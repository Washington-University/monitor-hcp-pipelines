#!/bin/bash

# printf "Connectome DB Username: " 
# read username
username="tbbrown"

# stty -echo
# printf "Connectome DB Password: "
# read password
# echo ""
# stty echo
password="ThisIsNotMyPassword"

project="HCP_Staging"
# from_file=( $( cat ${project}.task.subjects ) )
# subjects="`echo "${from_file[@]}"`"

subjects=""
subjects="${subjects} 104012"
subjects="${subjects} 105620"
subjects="${subjects} 105923"
subjects="${subjects} 108222"
subjects="${subjects} 109830"
subjects="${subjects} 111514"
subjects="${subjects} 114217"
subjects="${subjects} 114823"
subjects="${subjects} 115017"
subjects="${subjects} 116726"
subjects="${subjects} 118023"
subjects="${subjects} 118225"
subjects="${subjects} 121820"
subjects="${subjects} 127327"
subjects="${subjects} 127832"
subjects="${subjects} 128935"
subjects="${subjects} 129129"
subjects="${subjects} 130114"
subjects="${subjects} 130417"
subjects="${subjects} 132017"
subjects="${subjects} 134425"
subjects="${subjects} 134728"
subjects="${subjects} 136126"
subjects="${subjects} 138130"
subjects="${subjects} 139839"
subjects="${subjects} 140319"
subjects="${subjects} 143830"
subjects="${subjects} 145127"
subjects="${subjects} 145632"
subjects="${subjects} 146129"
subjects="${subjects} 146634"
subjects="${subjects} 146937"
subjects="${subjects} 148436"
subjects="${subjects} 149236"
subjects="${subjects} 153732"
subjects="${subjects} 154330"
subjects="${subjects} 155938"
subjects="${subjects} 156334"
subjects="${subjects} 157942"
subjects="${subjects} 158338"
subjects="${subjects} 158843"
subjects="${subjects} 159946"
subjects="${subjects} 160931"
subjects="${subjects} 165941"
subjects="${subjects} 167238"
subjects="${subjects} 169040"
subjects="${subjects} 170631"
subjects="${subjects} 173233"
subjects="${subjects} 173637"
subjects="${subjects} 174437"
subjects="${subjects} 175540"
subjects="${subjects} 176037"
subjects="${subjects} 176239"
subjects="${subjects} 176744"
subjects="${subjects} 179952"
subjects="${subjects} 182032"
subjects="${subjects} 182436"
subjects="${subjects} 185947"
subjects="${subjects} 190132"
subjects="${subjects} 192035"
subjects="${subjects} 192641"
subjects="${subjects} 193441"
subjects="${subjects} 194746"
subjects="${subjects} 199554"
subjects="${subjects} 200311"
subjects="${subjects} 201717"
subjects="${subjects} 204319"
subjects="${subjects} 208125"
subjects="${subjects} 209127"
subjects="${subjects} 219231"
subjects="${subjects} 220721"
subjects="${subjects} 227432"
subjects="${subjects} 228434"
subjects="${subjects} 239136"
subjects="${subjects} 270332"
subjects="${subjects} 287248"
subjects="${subjects} 295146"
subjects="${subjects} 300618"
subjects="${subjects} 322224"
subjects="${subjects} 336841"
subjects="${subjects} 378857"
subjects="${subjects} 381038"
subjects="${subjects} 384448"
subjects="${subjects} 512835"
subjects="${subjects} 541640"
subjects="${subjects} 599065"
subjects="${subjects} 660951"
subjects="${subjects} 662551"
subjects="${subjects} 715950"
subjects="${subjects} 725751"
subjects="${subjects} 783462"
subjects="${subjects} 820745"
subjects="${subjects} 825048"
subjects="${subjects} 959069"
subjects="${subjects} 136631"
subjects="${subjects} 204218"
subjects="${subjects} 389357"
subjects="${subjects} 393247"
subjects="${subjects} 393550"
subjects="${subjects} 429040"
subjects="${subjects} 453441"
subjects="${subjects} 467351"
subjects="${subjects} 468050"
subjects="${subjects} 513736"
subjects="${subjects} 529549"
subjects="${subjects} 536647"
subjects="${subjects} 548250"
subjects="${subjects} 562345"
subjects="${subjects} 572045"
subjects="${subjects} 587664"
subjects="${subjects} 590047"
subjects="${subjects} 609143"
subjects="${subjects} 615744"
subjects="${subjects} 645450"
subjects="${subjects} 654350"
subjects="${subjects} 656253"
subjects="${subjects} 680250"
subjects="${subjects} 688569"
subjects="${subjects} 707749"
subjects="${subjects} 720337"
subjects="${subjects} 727553"
subjects="${subjects} 734247"
subjects="${subjects} 737960"
subjects="${subjects} 763557"
subjects="${subjects} 810439"
subjects="${subjects} 815247"
subjects="${subjects} 818455"
subjects="${subjects} 818859"
subjects="${subjects} 844961"
subjects="${subjects} 867468"
subjects="${subjects} 872562"
subjects="${subjects} 873968"
subjects="${subjects} 880157"
subjects="${subjects} 882161"
subjects="${subjects} 884064"
subjects="${subjects} 894067"
subjects="${subjects} 902242"
subjects="${subjects} 942658"
subjects="${subjects} 947668"
subjects="${subjects} 955465"
subjects="${subjects} 996782"

mkdir -p ${project}

for subject in ${subjects} ; do

    echo "Checking Task fMRI Analysis completeness for subject: ${subject} in project: ${project}"

    python ../CheckHcpPipelineStatus.py \
        --verbose=True \
        -u ${username} \
        -p ${password} \
        -pl task \
        -pr ${project} \
        -o "${project}/${subject}.out" \
        -su "${subject}"

    more "${project}/${subject}.out"

done